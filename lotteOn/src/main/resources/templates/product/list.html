<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/layout/layout.css">
    <link rel="stylesheet" href="/css/product/list.css">
    <title>상품목록 : 롯데On</title>
</head>

<body>
  <script>
    // 슬라이드 인덱스 저장
    let index = 0;
  
    // 슬라이더 이동 함수
    function moveSlide(direction) {
      const slides = document.getElementById('slides');
      const totalSlides = Math.ceil(slides.children.length / 2);
  
      index += direction;
      if (index < 0) index = totalSlides - 1;
      if (index >= totalSlides) index = 0;
  
      slides.style.transform = `translateX(-${index * 100}%)`;
    }
  
    // 리스트 / 그리드 뷰 전환 함수
    function toggleView(view) {
      const wrapper = document.getElementById('productWrapper');
      const toGridBtn = document.getElementById('toGrid');
      const toListBtn = document.getElementById('toList');
  
      wrapper.classList.remove('list', 'grid');
      wrapper.classList.add(view);
  
      // 버튼 상태도 같이 바꾸기
      if (view === 'grid') {
        toGridBtn.style.display = 'none';
        toListBtn.style.display = 'inline-block';
      } else {
        toGridBtn.style.display = 'inline-block';
        toListBtn.style.display = 'none';
      }
    }
  
    // DOM 로드 후 실행
    document.addEventListener("DOMContentLoaded", function () {
      // 카테고리 아코디언 기능
      const parents = document.querySelectorAll(".category .parent");
  
      parents.forEach(parent => {
        parent.style.cursor = "pointer";
  
        parent.addEventListener("click", () => {
          const currentChildren = parent.nextElementSibling;
  
          document.querySelectorAll(".category .children").forEach(children => {
            if (children !== currentChildren) {
              children.style.display = "none";
            }
          });
  
          if (currentChildren && currentChildren.classList.contains("children")) {
            const isVisible = currentChildren.style.display === "block";
            currentChildren.style.display = isVisible ? "none" : "block";
          }
        });
      });
    });
  </script>

    <div id="wrapper">
         <!-- 헤더 시작 -->
        <th:block th:include="/common/header.html"/>
        <!-- 헤더 끝 -->
        <main>
            <section class="content">
                <div class="bar">
                    <div>
                        <a href="#">HOME</a>&nbsp;&nbsp;>&nbsp;&nbsp;
                        <a href="#">뷰티</a>&nbsp;&nbsp;>&nbsp;&nbsp;
                        <a href="#">향수</a>
                    </div>
                </div>
                <p class="page_name">향수</p>
                <!-- 사이드바-->
                <aside>
                    <div class="category">
                        <p>카테고리</p>
                        <div class="category-item">
                        <div class="parent">뷰티</div>
                        <div class="children">
                            <a href="/view/product/beauty/skincare/skincare.html">스킨케어</a>
                            <a href="/view/product/beauty/makeup">메이크업</a>
                            <a href="/view/product/beauty/perfume">향수</a>
                        </div>
                        </div>
                    
                        <div class="category-item">
                        <div class="parent">럭셔리</div>
                        <div class="children">
                            <a href="/view/product/luxury/bag">가방</a>
                            <a href="/view/product/luxury/watch">시계</a>
                            <a href="/view/product/luxury/shoes">신발</a>
                        </div>
                        </div>
                    
                        <div class="category-item">
                        <div class="parent">여성패션</div>
                        <div class="children">
                            <a href="/view/product/wfashion/onepiece">원피스</a>
                            <a href="/view/product/wfashion/blouse">블라우스</a>
                            <a href="/view/product/wfashion/pants">팬츠</a>
                        </div>
                        </div>
                    
                        <div class="category-item">
                        <div class="parent">남성패션</div>
                        <div class="children">
                            <a href="/view/product/mfashion/shirt">셔츠</a>
                            <a href="/view/product/mfashion/slacks">슬랙스</a>
                            <a href="/view/product/mfashion/jacket">자켓</a>
                        </div>
                        </div>
                    
                        <div class="category-item">
                        <div class="parent">가전</div>
                        <div class="children">
                            <a href="/view/product/electronics/computer">컴퓨터</a>
                            <a href="/view/product/electronics/game">게임</a>
                            <a href="/view/product/electronics/tv">티비</a>
                        </div>
                        </div>
                    
                        <div class="category-item">
                        <div class="parent">가구</div>
                        <div class="children">
                            <a href="/view/product/furniture/sofa">쇼파</a>
                            <a href="/view/product/furniture/bed">침구</a>
                            <a href="/view/product/furniture/wardrobe">옷장</a>
                        </div>
                        </div>
                    
                        <div class="category-item">
                        <div class="parent">반려동물</div>
                        <div class="children">
                            <a href="/view/product/pet/dog">강아지</a>
                            <a href="/view/product/pet/cat">고양이</a>
                            <a href="/view/product/pet/parrot">앵무새</a>
                        </div>
                        </div>
                    
                        <div class="category-item">
                        <div class="parent">취미</div>
                        <div class="children">
                            <a href="/view/product/hobby/knitting">뜨개</a>
                            <a href="/view/product/hobby/badminton">배드민턴</a>
                            <a href="/view/product/hobby/poldance">폴댄스</a>
                        </div>
                        </div>
                    
                        <div class="category-item">
                        <div class="parent">여행</div>
                        <div class="children">
                            <a href="/view/product/travel/asia">아시아</a>
                            <a href="/view/product/travel/europe">유럽</a>
                            <a href="/view/product/travel/northamerica">북미</a>
                        </div>
                        </div>
                    </div>
                </aside>
                <!-- 사이드 바 끝 -->
                <div class="container">
                    <div class="slider">
                      <div class="slides" id="slides">
                        <img src="/images/product/banner1.jpg" alt="배너 1">
                        <img src="/images/product/banner2.jpg" alt="배너 2">
                        <img src="/images/product/banner1.jpg" alt="배너 3">
                        <img src="/images/product/banner2.jpg" alt="배너 4">
                      </div>
                      <button class="prev" onclick="moveSlide(-1)">&#10094;</button>
                      <button class="next" onclick="moveSlide(1)">&#10095;</button>
                    </div>

                    <h2>카테고리 베스트 상품</h2>
                    <div class="best-grid">
                        <div class="best-card" th:each="product, stat : ${productDTOList}">
                            <p class="rank" th:text="${stat.count < 10} ? '0' + stat.count : stat.count">01</p>
                            <img class="product-img" th:src="${product.thumb}" alt="상품 이미지" />
                            <div class="vendor-row">
                                <span class="vendor-name" th:text="${product.company}">판매자명</span>
                                <div class="icons">
                                    <button><img th:src="@{/images/product/icon_favorite.png}" alt="찜"></button>
                                    <button><img th:src="@{/images/product/icon_cart.png}" alt="장바구니"></button>
                                </div>
                            </div>
                            <p class="name">
                                <span class="brand">브랜드명</span>
                                <span th:text="${product.prodName}">상품명</span>
                            </p>
                            <p class="price">
                                <span class="discount" th:text="${product.prodDiscount + '%'}">10%</span>
                                <span th:text="${#numbers.formatInteger(product.prodPrice, 3, 'COMMA')} + '원'">155,800원</span>
                            </p>
                            <p class="review">
                                <span class="star" th:text="'★ ' + ${product.ratingTotal}">★ 4.8</span>
                                &nbsp;&nbsp;|&nbsp;&nbsp;리뷰 <span th:text="${product.reviewCount}">123</span>
                            </p>
                        </div>
                    </div>


                    <div class="nab_bar">
                        <div class="nav">
                            <div>
                                <a href="#">판매많은순&nbsp;&nbsp;|&nbsp;&nbsp;</a>
                                <a href="#">낮은가격순&nbsp;&nbsp;|&nbsp;&nbsp;</a>
                                <a href="#">높은가격순&nbsp;&nbsp;|&nbsp;&nbsp;</a>
                                <a href="#">평점높은순&nbsp;&nbsp;|&nbsp;&nbsp;</a>
                                <a href="#">후기많은순&nbsp;&nbsp;|&nbsp;&nbsp;</a>
                                <a href="#">최근등록순</a>
                            </div>
                        </div>
                        <div class="view-toggle">
                          <button id="toGrid" onclick="toggleView('grid')">
                            <img src="/images/product/grid.png" alt="그리드 보기">
                          </button>
                          <button id="toList" onclick="toggleView('list')" style="display: none;">
                            <img src="/images/product/list.png" alt="리스트 보기">
                          </button>
                        </div>
                        
                    </div>
                
                    <div id="productWrapper" class="product-wrapper list">
                      <div class="product-list">
                        <div class="product-item">
                          <img src="/images/product/product.jpg" alt="상품 썸네일">
                          <div class="product-info">
                            <span class="vendor-name">롯데백화점</span><br>
                            <span class="brand">로에베</span>
                            <span class="pname"> 아이레 수틸레사</span>
                            <div class="meta">★ 4.8 | 리뷰 82</div>
                            <span class="badge-free">무료배송</span>
                          </div>
                          <div class="product-price">
                            <del>164,000원</del><br>
                            <span class="discount">5%</span> 
                            <span>155,800</span> 원
                            <div class="icons">
                              <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                              <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                            </div>
                          </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span>
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span>
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span>  
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span> 
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span> 
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span>
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span> 
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span> 
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span>
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span>  
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                        <div class="product-item">
                            <img src="/images/product/product.jpg" alt="상품 썸네일">
                            <div class="product-info">
                              <span class="vendor-name">롯데백화점</span><br>
                              <span class="brand">로에베</span>
                              <span class="pname"> 아이레 수틸레사</span>
                              <div class="meta">★ 4.8 | 리뷰 82</div>
                              <span class="badge-free">무료배송</span>
                            </div>
                            <div class="product-price">
                              <del>164,000원</del><br>
                              <span class="discount">5%</span> 
                              <span>155,800</span> 원
                              <div class="icons">
                                <button><img src="/images/product/icon_favorite.png" alt="찜"></button>
                                <button><img src="/images/product/icon_cart.png" alt="장바구니"></button>
                              </div>
                            </div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="page">
                      <a href="#"><</a>
                      <a href="#">1</a>
                      <a href="#">2</a>
                      <a href="#">3</a>
                      <a href="#">4</a>
                      <a href="#">5</a>
                      <a href="#">6</a>
                      <a href="#">7</a>
                      <a href="#">></a>
                    </div>
                </div>
            </section>
        </main>

        <!-- 푸터 시작 -->
        <th:block th:include="/common/footer.html"/>
        <!-- 푸터 끝 -->
    </div>
</body>
</html>
